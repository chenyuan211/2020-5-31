<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="demo">
			<p>正则操作DOM元素</p>
			<h1>
				55555
				<main>
					<span>4444444</span>
					<span>555555</span>
				</main>
			</h1>
			<h2>88888888</h2>
			<ol>
			<li>百度</li>
			<li>http://www.baidu.com</li>
			<ol>
		</div>
	</body>
	<script type="text/javascript">
		/* 
		1.[]原子表 
			let a = 'addd5555'
			console.log(a.match(/[5896]/))
		*/
	   
		/*
		2.()原子组 
			let a = 'addd5555'
			console.log(a.match(/(5|8)/))
		*/
	   
	   /* 
	   3.转义的使用 
		   const a = 225.33
		   const reg = /\d+\.\d+/
		   // *注意对象的转义
		   const regs = new RegExp('\\d+\\.\\d+')
		   console.log(regs.test(a))
	   */
	  
	  /* 
	  4.字符串边界约束
	    ^限定起始边界
		$限定结束边界
		const a = '444ddddd'
		const reg = /^\d/
		console.log(reg.test(a))
	  */
	 
	  /* 
	  5.\s空格、换行
	    console.log(/\s/.test('12 3'))
	  6.\S出来空格、换行
	    console.log(/\S/.test('123'))
	  */
	 
	 /* 
	 6.\w字母数字下划线 
	    console.log(/\w/.test('ff555_'))
	 7.\W 除了字母数字下划线 
	 */
	/* 
	9. .除了换行的任意字符 
	*/
   
    /* 10 * 代表0个或多个; + 代表1个或多个 */
	/* 11. m 匹配多行 */
	
	/* 
	11.字符属性 
	  let a = '666666.cy,加油!'
	  console.log(a.match(/\p{L}/gu))
	  console.log(a.match(/\p{P}/gu)) // 匹配标点符号
	  console.log(a.match(/\p{sc=Han}/gu)) // 匹配汉字
	*/

	
	/* 12. u 宽字节匹配 */
	
	/* 
	
	13.原子表
	 let url = 'https://item.yzchn.com/19.html'
	 console.log(url.match(/[^\/]+/g)) // 匹配除了下划线[^\/]
	 let a = '(哈啊哈)(哈哈哈)'
	 console.log(a.match(/[()]/g)) // [()]只是单纯的匹配（）[.+]只是单纯的匹配.+
	*/
   
   /*
	14.匹配所有内容 [\s\S] [\d\D]
	
	let a = `
	66666
	888
	oooo
	jjjj
	`
	console.log(a.match(/[\s\S]+/g))
	*/
   
   /* 
   15.正则操作DOM元素 
	   let body = document.body;
	   let reg = /<(h[1-6])>[\s\S]*<\/\1>/gi; // \1 代表第一个(),就相当于(h[1-6])
	   body.innerHTML = body.innerHTML.replace(reg, '')
   */
  
    /* 16.匹配条件(?=)(?==)(?!) */
  
 //    let phone = '13315736871'
	// let reg = /^[1][3-9]\d{9}$/g
	// console.log(reg.test(phone))
	// let userName = 'hhhh5555__jjjj'
	// let reg01 = /^[^_]\w/g
	// console.log(reg01.test(userName))
	// let email = '1034@qq.cn'
	// let reg02 = /^[\w-]+@([\w-]+\.)+(com|cn|cc|net|org)+$/i
	// console.log(reg02.test(email))
	// console.log({} == false)
	
	// 17.url
	/* let body = 'https://item.yzchn.com/19.html'
	let reg = /(https?:\/\/item\.yzchn\.com\/)([0-9]+)\.html/i // ? 代表0个或1个,s有也可以,没有也可以
	console.log(body.match(reg)) */
	
	/* 
	18.重复匹配 ? 0代表0个或1个; + 代表1个或多个; * 代表0个或多个; {0, 20} 0-20的区间
	*/
   /* let body = document.querySelector("main")
   let reg = /<span>([\s\S]+?)<\/span>/gi  // ? 禁止匹配多个，只匹配一个span里面的内容
   body.innerHTML = body.innerHTML.replace(reg, (v, p)=>{
	   console.log(p)
	   return `<h4 style='color:red;'>cy-${p}</h4>`
   }) */
   
  /*
   19.matchAll() 
   let body = document.body;
   let reg = /<(h[1-6])>[\s\S]*<\/\1>/gi;
    let a = body.innerHTML.matchAll(reg)
    for(const val of a) {
   	  console.log(val)
    }
   */
  
 /*
  20. exec() 
  let a = 'b655dddughu'
  let reg = /u/gi
  let arr = []
  
  while((res = reg.exec(a))) {
  	arr.push(res)
  }
  console.log(arr)
  */
 
  
  
 /* 21.search / split/ match 方法 */
	  //search 字符串的方法,搜索对应字符串下标,有就返回对应的下标,没有就返回-1
	  // let a = 'djjj'
	  // console.log(a.search(/j/))
	  // const str = 'qwbewrbbeqqbbbweebbbbqee';
	  // console.log(str.match(/\d*/g))
	  // let date = '2020/8/9'
	  // console.log(date.split(/[-|\/]/))
	  
	 
	 /* 22.$符号在正则替换中的使用 */
	 
	 // // $` 指的是匹配正则前面的内容
	 // let a = 'hh66666bb'
	 // console.log(a.replace(/66666/, '$`2'))
	 
	 // // $' 指的是匹配正则后面的内容
	 // console.log(a.replace(/66666/, "$'2"))
	 
	 // // %$ 指的是内容
	 // console.log(a.replace(/66666/, "$&"))
	 
	 
	 /*
	  23. ?=断言匹配 
	  let a = '歪歪唧唧巴哼哼拉哈哈哈哈不告你说哼哼歪歪唧唧巴拉'
	  console.log(a.replace(/哼哼(?=歪歪)/g, '8888'))
	  */

 
  /*
   24. ?<=断言匹配
   let a = '13802257097'
   console.log(a.replace(/(?<=\d{7})\d{4}/g, '****'))  // 忽略前面7位。匹配后面4位
   */
  
	 /* 
	 25.?!断言 
	 */
	// let a = 'chenyuan555'
	// let reg = /^(?!.*chenyuan.*).*/i  // 任意位置不能包含chenyuan字符串  .*0个或多个字符
	// console.log(a.match(reg))

    /*
    25.?<!断言 , 前面不能是
	let a = 'chenyuan555'
	console.log(a.match(/(?<!chenyuan)/)) // 前面不能是chenyuan
    */
  
    function fun(n,o) {
        console.log(o) 
	    return {
         fun:function(m){
			return fun(m,n);
         }
        };
    }
	var a = fun(0);
	console.log(a)
	a.fun(1);
	a.fun(2);
	a.fun(3);
	

	</script>
</html>
